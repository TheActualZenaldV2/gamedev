<canvas id="canvas"></canvas>
<style>
    canvas {
    border:1px solid #000;
    width: 100%;
    height: 100%;
    background-image: url("https://i.redd.it/5151vamxcmlx.png");
}

body {
    overflow: hidden;
    background-color: black;
}
</style>


<script>
var canvas = document.getElementById("canvas"),
    ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
canvasWidth = canvas.width;
canvasHeight = canvas.height;

var x = 150,
    y = 150,
    velY = 0,
    velX = 0,
    speed = 1.5,
    friction = 0.8,
    keys = [];


  
			
		

   

//movement

function update() {
    requestAnimationFrame(update);
    
    if (keys[87]) {
        if (velY > -speed) {
            velY--;
        }
    }
    
    if (keys[83]) {
        if (velY < speed) {
            velY++;
        }
    }
    if (keys[68]) {
        if (velX < speed) {
            velX++;
        }
    }
    if (keys[65]) {
        if (velX > -speed) {
            velX--;
        }
    }



    velY *= friction;
    y += velY;
    velX *= friction;
    x += velX;

    //if the player goes off the screen, stop them
    //add padding of 10px
    if (y > canvas.height - 10) {
        y = canvas.height - 10;
        velY = 0;
    }
    if (y < 10) {
        y = 10;
        velY = 0;
    }
    if (x > canvas.width - 10) {
        x = canvas.width - 10;
        velX = 0;
    }
    if (x < 10) {
        x = 10;
        velX = 0;
    }


    

    

    drawPlayer();
}

function drawPlayer() {
    
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    //draw the player
    ctx.fillStyle = "blue";
    ctx.beginPath();
    ctx.arc(x, y, 10, 0, 2 * Math.PI);
    ctx.fill();

    

}


update();

//add wasd movement
//event listner wasd movement
window.addEventListener("keydown", function(e) {
    keys[e.keyCode] = true;
});

window.addEventListener("keyup", function(e) {
    keys[e.keyCode] = false;
});



//on mouse click, spawn and add a bullet to a bullets array. 
//the bullet will move in the direction of the mouse
//draw the bullet

//make a bullet object
var bullets = [];
var bullet = {
    x: 0,
    y: 0,
    width: 3,
    height: 3,
    color: "red",
    draw: function() {
        ctx.fillStyle = this.color;
        //make circle
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.width, 0, 2 * Math.PI);
        ctx.fill();
    },
    //store the bullets into an array
    update: function() {
        bullets.push(this);
    }
};

//draw the bullet on mouse click
canvas.addEventListener("click", function(e) {
    //get the mouse position
    var rect = canvas.getBoundingClientRect();
    var mouseX = e.clientX - rect.left;
    var mouseY = e.clientY - rect.top;
    //set the bullet position to the mouse position
    bullet.x = mouseX;
    bullet.y = mouseY;
    //draw the bullet
    bullet.draw();
    //update the bullet
    bullet.update();
});


















    






</script>
